<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>eChook Comms Board - Tesla BMS: BMSModuleManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">eChook Comms Board - Tesla BMS<span id="projectnumber">&#160;0.1</span>
   </div>
   <div id="projectbrief">Code adapted from the SimpBMS project to run a Tesla Module battery controller on the eChook Master Comms board with a Teensy 4.1</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classBMSModuleManager.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classBMSModuleManager-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">BMSModuleManager Class Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae4f84252fb856fcc29c2e3ef9b38ae79" id="r_ae4f84252fb856fcc29c2e3ef9b38ae79"><td class="memItemLeft" align="right" valign="top"><a id="ae4f84252fb856fcc29c2e3ef9b38ae79" name="ae4f84252fb856fcc29c2e3ef9b38ae79"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>BMSModuleManager</b> ()</td></tr>
<tr class="memdesc:ae4f84252fb856fcc29c2e3ef9b38ae79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a <a class="el" href="classBMSModuleManager.html">BMSModuleManager</a> object, initializing all modules to false, lowestPackVolt to 1000V, highestPackVolt to 0V, lowestPackTemp to 200C, highestPackTemp to -100C, and sets isFaulted to false. <br /></td></tr>
<tr class="separator:ae4f84252fb856fcc29c2e3ef9b38ae79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87213140ff1a6e147670054d563e01bb" id="r_a87213140ff1a6e147670054d563e01bb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBMSModuleManager.html#a87213140ff1a6e147670054d563e01bb">seriescells</a> ()</td></tr>
<tr class="memdesc:a87213140ff1a6e147670054d563e01bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the total number of cells in series in the pack.  <br /></td></tr>
<tr class="separator:a87213140ff1a6e147670054d563e01bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c687d2165e47c85efdbbf3a647c6f01" id="r_a8c687d2165e47c85efdbbf3a647c6f01"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBMSModuleManager.html#a8c687d2165e47c85efdbbf3a647c6f01">clearmodules</a> ()</td></tr>
<tr class="memdesc:a8c687d2165e47c85efdbbf3a647c6f01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears all module voltage, temperature, and cell voltage data.  <br /></td></tr>
<tr class="separator:a8c687d2165e47c85efdbbf3a647c6f01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26cca2180eda2fdbf06d91e270027327" id="r_a26cca2180eda2fdbf06d91e270027327"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBMSModuleManager.html#a26cca2180eda2fdbf06d91e270027327">StopBalancing</a> ()</td></tr>
<tr class="memdesc:a26cca2180eda2fdbf06d91e270027327"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops balancing activity on all connected BMS modules.  <br /></td></tr>
<tr class="separator:a26cca2180eda2fdbf06d91e270027327"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab70fe99cb7d77bc4f508f138c5b6d916" id="r_ab70fe99cb7d77bc4f508f138c5b6d916"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBMSModuleManager.html#ab70fe99cb7d77bc4f508f138c5b6d916">balanceCells</a> (int duration, int debug)</td></tr>
<tr class="memdesc:ab70fe99cb7d77bc4f508f138c5b6d916"><td class="mdescLeft">&#160;</td><td class="mdescRight">Activates cell balancing for each module based on the following conditions:  <br /></td></tr>
<tr class="separator:ab70fe99cb7d77bc4f508f138c5b6d916"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9aae56f1fe7017e960a1627fe25aac54" id="r_a9aae56f1fe7017e960a1627fe25aac54"><td class="memItemLeft" align="right" valign="top"><a id="a9aae56f1fe7017e960a1627fe25aac54" name="a9aae56f1fe7017e960a1627fe25aac54"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setupBoards</b> ()</td></tr>
<tr class="separator:a9aae56f1fe7017e960a1627fe25aac54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1238e874e527444ae777a3311bff415b" id="r_a1238e874e527444ae777a3311bff415b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBMSModuleManager.html#a1238e874e527444ae777a3311bff415b">findBoards</a> ()</td></tr>
<tr class="separator:a1238e874e527444ae777a3311bff415b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1070d50fa128d714c41306722541a62b" id="r_a1070d50fa128d714c41306722541a62b"><td class="memItemLeft" align="right" valign="top"><a id="a1070d50fa128d714c41306722541a62b" name="a1070d50fa128d714c41306722541a62b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>renumberBoardIDs</b> ()</td></tr>
<tr class="memdesc:a1070d50fa128d714c41306722541a62b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Force all modules to reset back to address 0 then set them all up in order so that the first module in line from the master board is 1, the second one 2, and so on. <br /></td></tr>
<tr class="separator:a1070d50fa128d714c41306722541a62b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20a13af385b94d5eefc37541e7f8b897" id="r_a20a13af385b94d5eefc37541e7f8b897"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBMSModuleManager.html#a20a13af385b94d5eefc37541e7f8b897">clearFaults</a> ()</td></tr>
<tr class="memdesc:a20a13af385b94d5eefc37541e7f8b897"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears all faults from the BMS modules.  <br /></td></tr>
<tr class="separator:a20a13af385b94d5eefc37541e7f8b897"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a845579a1dae6762aec33df84536d5989" id="r_a845579a1dae6762aec33df84536d5989"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBMSModuleManager.html#a845579a1dae6762aec33df84536d5989">sleepBoards</a> ()</td></tr>
<tr class="memdesc:a845579a1dae6762aec33df84536d5989"><td class="mdescLeft">&#160;</td><td class="mdescRight">Puts all boards on the bus into a Sleep state.  <br /></td></tr>
<tr class="separator:a845579a1dae6762aec33df84536d5989"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1575352813ec02fb2363b71e86f0bd5" id="r_ac1575352813ec02fb2363b71e86f0bd5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBMSModuleManager.html#ac1575352813ec02fb2363b71e86f0bd5">wakeBoards</a> ()</td></tr>
<tr class="separator:ac1575352813ec02fb2363b71e86f0bd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa546531c3975c3de547b7322bff36c76" id="r_aa546531c3975c3de547b7322bff36c76"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBMSModuleManager.html#aa546531c3975c3de547b7322bff36c76">getAllVoltTemp</a> ()</td></tr>
<tr class="memdesc:aa546531c3975c3de547b7322bff36c76"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves voltage and temperature values from all connected BMS modules.  <br /></td></tr>
<tr class="separator:aa546531c3975c3de547b7322bff36c76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00d3cf58882e8abf20967fdc0ac76006" id="r_a00d3cf58882e8abf20967fdc0ac76006"><td class="memItemLeft" align="right" valign="top"><a id="a00d3cf58882e8abf20967fdc0ac76006" name="a00d3cf58882e8abf20967fdc0ac76006"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>readSetpoints</b> ()</td></tr>
<tr class="separator:a00d3cf58882e8abf20967fdc0ac76006"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1289e9c0e358e9967be57c17ba63b263" id="r_a1289e9c0e358e9967be57c17ba63b263"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBMSModuleManager.html#a1289e9c0e358e9967be57c17ba63b263">setBatteryID</a> (int id)</td></tr>
<tr class="memdesc:a1289e9c0e358e9967be57c17ba63b263"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the battery ID of the pack.  <br /></td></tr>
<tr class="separator:a1289e9c0e358e9967be57c17ba63b263"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c0cc66d5245f27d7c8f6adebd8662cb" id="r_a4c0cc66d5245f27d7c8f6adebd8662cb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBMSModuleManager.html#a4c0cc66d5245f27d7c8f6adebd8662cb">setPstrings</a> (int Pstrings)</td></tr>
<tr class="memdesc:a4c0cc66d5245f27d7c8f6adebd8662cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the number of strings in parallel in the battery pack This value is used to calculate the pack voltage from the module voltages.  <br /></td></tr>
<tr class="separator:a4c0cc66d5245f27d7c8f6adebd8662cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a940362c16c14398ad1b2f5cf5ab3c90d" id="r_a940362c16c14398ad1b2f5cf5ab3c90d"><td class="memItemLeft" align="right" valign="top"><a id="a940362c16c14398ad1b2f5cf5ab3c90d" name="a940362c16c14398ad1b2f5cf5ab3c90d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setUnderVolt</b> (float newVal)</td></tr>
<tr class="separator:a940362c16c14398ad1b2f5cf5ab3c90d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71281fba414b7c9c8da1c4a097169ec9" id="r_a71281fba414b7c9c8da1c4a097169ec9"><td class="memItemLeft" align="right" valign="top"><a id="a71281fba414b7c9c8da1c4a097169ec9" name="a71281fba414b7c9c8da1c4a097169ec9"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setOverVolt</b> (float newVal)</td></tr>
<tr class="separator:a71281fba414b7c9c8da1c4a097169ec9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac04262c0cbeb48e3a0ab40714407841" id="r_aac04262c0cbeb48e3a0ab40714407841"><td class="memItemLeft" align="right" valign="top"><a id="aac04262c0cbeb48e3a0ab40714407841" name="aac04262c0cbeb48e3a0ab40714407841"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setOverTemp</b> (float newVal)</td></tr>
<tr class="separator:aac04262c0cbeb48e3a0ab40714407841"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a864c3b70ab2642206cb9dd1c3891df09" id="r_a864c3b70ab2642206cb9dd1c3891df09"><td class="memItemLeft" align="right" valign="top"><a id="a864c3b70ab2642206cb9dd1c3891df09" name="a864c3b70ab2642206cb9dd1c3891df09"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setBalanceV</b> (float newVal)</td></tr>
<tr class="separator:a864c3b70ab2642206cb9dd1c3891df09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa16a9cfb8ef97fc6cf9373c2240cdc70" id="r_aa16a9cfb8ef97fc6cf9373c2240cdc70"><td class="memItemLeft" align="right" valign="top"><a id="aa16a9cfb8ef97fc6cf9373c2240cdc70" name="aa16a9cfb8ef97fc6cf9373c2240cdc70"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setBalanceHyst</b> (float newVal)</td></tr>
<tr class="separator:aa16a9cfb8ef97fc6cf9373c2240cdc70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b765ce5eb94773a63016ec1b9955ba4" id="r_a7b765ce5eb94773a63016ec1b9955ba4"><td class="memItemLeft" align="right" valign="top"><a id="a7b765ce5eb94773a63016ec1b9955ba4" name="a7b765ce5eb94773a63016ec1b9955ba4"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setSensors</b> (int sensor, float Ignore)</td></tr>
<tr class="separator:a7b765ce5eb94773a63016ec1b9955ba4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3bfcdc8c70138b7d71e985eb0b18dc6" id="r_ae3bfcdc8c70138b7d71e985eb0b18dc6"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBMSModuleManager.html#ae3bfcdc8c70138b7d71e985eb0b18dc6">getPackVoltage</a> ()</td></tr>
<tr class="memdesc:ae3bfcdc8c70138b7d71e985eb0b18dc6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the current pack voltage.  <br /></td></tr>
<tr class="separator:ae3bfcdc8c70138b7d71e985eb0b18dc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04b2bca8d5fff8bcdac99abb355c9cf6" id="r_a04b2bca8d5fff8bcdac99abb355c9cf6"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBMSModuleManager.html#a04b2bca8d5fff8bcdac99abb355c9cf6">getAvgTemperature</a> ()</td></tr>
<tr class="memdesc:a04b2bca8d5fff8bcdac99abb355c9cf6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the average temperature of the battery pack.  <br /></td></tr>
<tr class="separator:a04b2bca8d5fff8bcdac99abb355c9cf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af02506c84422bbb0a93357971eb9e7dc" id="r_af02506c84422bbb0a93357971eb9e7dc"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBMSModuleManager.html#af02506c84422bbb0a93357971eb9e7dc">getHighTemperature</a> ()</td></tr>
<tr class="memdesc:af02506c84422bbb0a93357971eb9e7dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the highest temperature of the battery pack.  <br /></td></tr>
<tr class="separator:af02506c84422bbb0a93357971eb9e7dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fbf95790c1e73676ae17bd50d75ca96" id="r_a2fbf95790c1e73676ae17bd50d75ca96"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBMSModuleManager.html#a2fbf95790c1e73676ae17bd50d75ca96">getLowTemperature</a> ()</td></tr>
<tr class="memdesc:a2fbf95790c1e73676ae17bd50d75ca96"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the lowest temperature of the battery pack.  <br /></td></tr>
<tr class="separator:a2fbf95790c1e73676ae17bd50d75ca96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e0fca66ad9bc17e8ed94911cef1c862" id="r_a2e0fca66ad9bc17e8ed94911cef1c862"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBMSModuleManager.html#a2e0fca66ad9bc17e8ed94911cef1c862">getAvgCellVolt</a> ()</td></tr>
<tr class="memdesc:a2e0fca66ad9bc17e8ed94911cef1c862"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the average cell voltage of the battery pack.  <br /></td></tr>
<tr class="separator:a2e0fca66ad9bc17e8ed94911cef1c862"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32ead4b99c986e7e0e1bb4cb71457319" id="r_a32ead4b99c986e7e0e1bb4cb71457319"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBMSModuleManager.html#a32ead4b99c986e7e0e1bb4cb71457319">getLowCellVolt</a> ()</td></tr>
<tr class="memdesc:a32ead4b99c986e7e0e1bb4cb71457319"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the lowest cell voltage of the pack that has been seen.  <br /></td></tr>
<tr class="separator:a32ead4b99c986e7e0e1bb4cb71457319"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66602650155eb44462badeb626090904" id="r_a66602650155eb44462badeb626090904"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBMSModuleManager.html#a66602650155eb44462badeb626090904">getHighCellVolt</a> ()</td></tr>
<tr class="memdesc:a66602650155eb44462badeb626090904"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the highest cell voltage of the pack that has been seen.  <br /></td></tr>
<tr class="separator:a66602650155eb44462badeb626090904"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3be69c1d27d947b06d5ae875e4fbc621" id="r_a3be69c1d27d947b06d5ae875e4fbc621"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBMSModuleManager.html#a3be69c1d27d947b06d5ae875e4fbc621">getHighVoltage</a> ()</td></tr>
<tr class="memdesc:a3be69c1d27d947b06d5ae875e4fbc621"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the highest voltage of the pack that has been seen.  <br /></td></tr>
<tr class="separator:a3be69c1d27d947b06d5ae875e4fbc621"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af62af953a74e929e556ebdd40b3c5d86" id="r_af62af953a74e929e556ebdd40b3c5d86"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBMSModuleManager.html#af62af953a74e929e556ebdd40b3c5d86">getLowVoltage</a> ()</td></tr>
<tr class="memdesc:af62af953a74e929e556ebdd40b3c5d86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the lowest voltage of the pack that has been seen.  <br /></td></tr>
<tr class="separator:af62af953a74e929e556ebdd40b3c5d86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa821f4ddb010e8f12c1af7d08c4c61e6" id="r_aa821f4ddb010e8f12c1af7d08c4c61e6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBMSModuleManager.html#aa821f4ddb010e8f12c1af7d08c4c61e6">getBalancing</a> ()</td></tr>
<tr class="memdesc:aa821f4ddb010e8f12c1af7d08c4c61e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the current balancing status of the pack.  <br /></td></tr>
<tr class="separator:aa821f4ddb010e8f12c1af7d08c4c61e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a468f3d54db986909a6e54e5ef9c6d4" id="r_a5a468f3d54db986909a6e54e5ef9c6d4"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBMSModuleManager.html#a5a468f3d54db986909a6e54e5ef9c6d4">getcellvolt</a> (int modid, int cellid)</td></tr>
<tr class="memdesc:a5a468f3d54db986909a6e54e5ef9c6d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the cell voltage of a module.  <br /></td></tr>
<tr class="separator:a5a468f3d54db986909a6e54e5ef9c6d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53286b6eb68c2e4f7e81f0d10b79bf8d" id="r_a53286b6eb68c2e4f7e81f0d10b79bf8d"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBMSModuleManager.html#a53286b6eb68c2e4f7e81f0d10b79bf8d">gettemp</a> (int modid, int tempid)</td></tr>
<tr class="memdesc:a53286b6eb68c2e4f7e81f0d10b79bf8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the temperature of a module.  <br /></td></tr>
<tr class="separator:a53286b6eb68c2e4f7e81f0d10b79bf8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cdfccedf187137cf5fc02a7c883e02b" id="r_a7cdfccedf187137cf5fc02a7c883e02b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBMSModuleManager.html#a7cdfccedf187137cf5fc02a7c883e02b">printAllCSV</a> (unsigned long timestamp, float current, int SOC, int delim)</td></tr>
<tr class="memdesc:a7cdfccedf187137cf5fc02a7c883e02b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints detailed information about the pack to the serial console in CSV format.  <br /></td></tr>
<tr class="separator:a7cdfccedf187137cf5fc02a7c883e02b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe17826b95e88b428f751a508c28a46b" id="r_abe17826b95e88b428f751a508c28a46b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBMSModuleManager.html#abe17826b95e88b428f751a508c28a46b">printPackSummary</a> ()</td></tr>
<tr class="memdesc:abe17826b95e88b428f751a508c28a46b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints a summary of the battery pack's state.  <br /></td></tr>
<tr class="separator:abe17826b95e88b428f751a508c28a46b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58ee4f8542ea572a6bc101688df26ba7" id="r_a58ee4f8542ea572a6bc101688df26ba7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBMSModuleManager.html#a58ee4f8542ea572a6bc101688df26ba7">printPackDetails</a> (int digits)</td></tr>
<tr class="memdesc:a58ee4f8542ea572a6bc101688df26ba7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints detailed information about the pack to the serial console.  <br /></td></tr>
<tr class="separator:a58ee4f8542ea572a6bc101688df26ba7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1225b56b88689a06fd644286876683a2" id="r_a1225b56b88689a06fd644286876683a2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBMSModuleManager.html#a1225b56b88689a06fd644286876683a2">getNumModules</a> ()</td></tr>
<tr class="memdesc:a1225b56b88689a06fd644286876683a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the number of BMS modules that have been found.  <br /></td></tr>
<tr class="separator:a1225b56b88689a06fd644286876683a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ab70fe99cb7d77bc4f508f138c5b6d916" name="ab70fe99cb7d77bc4f508f138c5b6d916"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab70fe99cb7d77bc4f508f138c5b6d916">&#9670;&#160;</a></span>balanceCells()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BMSModuleManager::balanceCells </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>duration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>debug</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Activates cell balancing for each module based on the following conditions: </p>
<ol type="1">
<li>The module is present.</li>
<li>The module is not already balancing.</li>
<li>The module has at least one cell with a voltage higher than the lowest cell voltage.</li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">duration</td><td>The duration in seconds to balance the cells. </td></tr>
    <tr><td class="paramname">debug</td><td>Set to 1 to print debug information. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a20a13af385b94d5eefc37541e7f8b897" name="a20a13af385b94d5eefc37541e7f8b897"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20a13af385b94d5eefc37541e7f8b897">&#9670;&#160;</a></span>clearFaults()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BMSModuleManager::clearFaults </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clears all faults from the BMS modules. </p>
<p>This function clears any faults recorded by the BMS modules. Faults are typically cleared after a power cycle or reset. The function sends a broadcast message to the modules to clear the faults. The function also sets the <code>isFaulted</code> flag to false to indicate that the faults have been cleared. </p>

</div>
</div>
<a id="a8c687d2165e47c85efdbbf3a647c6f01" name="a8c687d2165e47c85efdbbf3a647c6f01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c687d2165e47c85efdbbf3a647c6f01">&#9670;&#160;</a></span>clearmodules()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BMSModuleManager::clearmodules </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clears all module voltage, temperature, and cell voltage data. </p>
<p>Loops over all modules and calls their clearModule() method to clear out all of the voltage and temperature data. This is used prior to reading all of the module data to ensure that we are starting from a clean slate. </p>

</div>
</div>
<a id="a1238e874e527444ae777a3311bff415b" name="a1238e874e527444ae777a3311bff415b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1238e874e527444ae777a3311bff415b">&#9670;&#160;</a></span>findBoards()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BMSModuleManager::findBoards </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Iterate through all 62 possible board addresses (1-62) to see if they respond Do a read of the address and the version number to see if they respond If they do, then add them to the list of found modules </p>

</div>
</div>
<a id="aa546531c3975c3de547b7322bff36c76" name="aa546531c3975c3de547b7322bff36c76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa546531c3975c3de547b7322bff36c76">&#9670;&#160;</a></span>getAllVoltTemp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BMSModuleManager::getAllVoltTemp </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves voltage and temperature values from all connected BMS modules. </p>
<p>This method first stops any balancing activity, then reads voltage and temperature values from all existing BMS modules. It also keeps track of the lowest and highest temperatures observed across all modules. Finally, it checks if any modules are in a faulted state and logs an error if so. The highest and lowest cell voltage values are also retrieved.</p>
<dl class="section note"><dt>Note</dt><dd>This method is the primary entry point for reading BMS module data. It should be called periodically to ensure that the system has up-to-date information about the state of the battery pack. </dd></dl>

</div>
</div>
<a id="a2e0fca66ad9bc17e8ed94911cef1c862" name="a2e0fca66ad9bc17e8ed94911cef1c862"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e0fca66ad9bc17e8ed94911cef1c862">&#9670;&#160;</a></span>getAvgCellVolt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float BMSModuleManager::getAvgCellVolt </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the average cell voltage of the battery pack. </p>
<p>This function calculates the average cell voltage of the battery pack by summing up the average cell voltages of all modules and dividing by the number of modules.</p>
<dl class="section return"><dt>Returns</dt><dd>The average cell voltage of the battery pack </dd></dl>

</div>
</div>
<a id="a04b2bca8d5fff8bcdac99abb355c9cf6" name="a04b2bca8d5fff8bcdac99abb355c9cf6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04b2bca8d5fff8bcdac99abb355c9cf6">&#9670;&#160;</a></span>getAvgTemperature()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float BMSModuleManager::getAvgTemperature </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the average temperature of the battery pack. </p>
<p>This function calculates the average temperature of the battery pack by summing up the average temperatures of all modules and dividing by the number of modules. It also keeps track of the lowest and highest temperatures found in the pack.</p>
<dl class="section return"><dt>Returns</dt><dd>The average temperature of the battery pack </dd></dl>

</div>
</div>
<a id="aa821f4ddb010e8f12c1af7d08c4c61e6" name="aa821f4ddb010e8f12c1af7d08c4c61e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa821f4ddb010e8f12c1af7d08c4c61e6">&#9670;&#160;</a></span>getBalancing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BMSModuleManager::getBalancing </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the current balancing status of the pack. </p>
<dl class="section return"><dt>Returns</dt><dd>Bitfield of which cells are currently balancing. Bit 0 is cell 1, bit 1 is cell 2, etc. </dd></dl>

</div>
</div>
<a id="a5a468f3d54db986909a6e54e5ef9c6d4" name="a5a468f3d54db986909a6e54e5ef9c6d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a468f3d54db986909a6e54e5ef9c6d4">&#9670;&#160;</a></span>getcellvolt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t BMSModuleManager::getcellvolt </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>modid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cellid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the cell voltage of a module. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">modid</td><td>Module ID. Valid values are 1-62 </td></tr>
    <tr><td class="paramname">cellid</td><td>Cell ID. Valid values are 0-5 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The cell voltage in millivolts </dd></dl>

</div>
</div>
<a id="a66602650155eb44462badeb626090904" name="a66602650155eb44462badeb626090904"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66602650155eb44462badeb626090904">&#9670;&#160;</a></span>getHighCellVolt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float BMSModuleManager::getHighCellVolt </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the highest cell voltage of the pack that has been seen. </p>
<dl class="section return"><dt>Returns</dt><dd>The highest cell voltage of the pack in Volts </dd></dl>

</div>
</div>
<a id="af02506c84422bbb0a93357971eb9e7dc" name="af02506c84422bbb0a93357971eb9e7dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af02506c84422bbb0a93357971eb9e7dc">&#9670;&#160;</a></span>getHighTemperature()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float BMSModuleManager::getHighTemperature </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the highest temperature of the battery pack. </p>
<dl class="section return"><dt>Returns</dt><dd>The highest temperature of the battery pack </dd></dl>

</div>
</div>
<a id="a3be69c1d27d947b06d5ae875e4fbc621" name="a3be69c1d27d947b06d5ae875e4fbc621"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3be69c1d27d947b06d5ae875e4fbc621">&#9670;&#160;</a></span>getHighVoltage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float BMSModuleManager::getHighVoltage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the highest voltage of the pack that has been seen. </p>
<dl class="section return"><dt>Returns</dt><dd>The highest voltage of the pack in Volts </dd></dl>

</div>
</div>
<a id="a32ead4b99c986e7e0e1bb4cb71457319" name="a32ead4b99c986e7e0e1bb4cb71457319"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32ead4b99c986e7e0e1bb4cb71457319">&#9670;&#160;</a></span>getLowCellVolt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float BMSModuleManager::getLowCellVolt </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the lowest cell voltage of the pack that has been seen. </p>
<dl class="section return"><dt>Returns</dt><dd>The lowest cell voltage of the pack in Volts </dd></dl>

</div>
</div>
<a id="a2fbf95790c1e73676ae17bd50d75ca96" name="a2fbf95790c1e73676ae17bd50d75ca96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fbf95790c1e73676ae17bd50d75ca96">&#9670;&#160;</a></span>getLowTemperature()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float BMSModuleManager::getLowTemperature </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the lowest temperature of the battery pack. </p>
<dl class="section return"><dt>Returns</dt><dd>The lowest temperature of the battery pack </dd></dl>

</div>
</div>
<a id="af62af953a74e929e556ebdd40b3c5d86" name="af62af953a74e929e556ebdd40b3c5d86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af62af953a74e929e556ebdd40b3c5d86">&#9670;&#160;</a></span>getLowVoltage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float BMSModuleManager::getLowVoltage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the lowest voltage of the pack that has been seen. </p>
<dl class="section return"><dt>Returns</dt><dd>The lowest voltage of the pack in Volts </dd></dl>

</div>
</div>
<a id="a1225b56b88689a06fd644286876683a2" name="a1225b56b88689a06fd644286876683a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1225b56b88689a06fd644286876683a2">&#9670;&#160;</a></span>getNumModules()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BMSModuleManager::getNumModules </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the number of BMS modules that have been found. </p>
<dl class="section return"><dt>Returns</dt><dd>The number of BMS modules that have been found </dd></dl>

</div>
</div>
<a id="ae3bfcdc8c70138b7d71e985eb0b18dc6" name="ae3bfcdc8c70138b7d71e985eb0b18dc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3bfcdc8c70138b7d71e985eb0b18dc6">&#9670;&#160;</a></span>getPackVoltage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float BMSModuleManager::getPackVoltage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the current pack voltage. </p>
<dl class="section return"><dt>Returns</dt><dd>The current pack voltage in Volts </dd></dl>

</div>
</div>
<a id="a53286b6eb68c2e4f7e81f0d10b79bf8d" name="a53286b6eb68c2e4f7e81f0d10b79bf8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53286b6eb68c2e4f7e81f0d10b79bf8d">&#9670;&#160;</a></span>gettemp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t BMSModuleManager::gettemp </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>modid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>tempid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the temperature of a module. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">modid</td><td>Module ID. Valid values are 1-62 </td></tr>
    <tr><td class="paramname">tempid</td><td>Temperature ID. Valid values are 0-2 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The temperature in degrees Celsius </dd></dl>

</div>
</div>
<a id="a7cdfccedf187137cf5fc02a7c883e02b" name="a7cdfccedf187137cf5fc02a7c883e02b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cdfccedf187137cf5fc02a7c883e02b">&#9670;&#160;</a></span>printAllCSV()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BMSModuleManager::printAllCSV </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>timestamp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>current</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>SOC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>delim</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prints detailed information about the pack to the serial console in CSV format. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">timestamp</td><td>The timestamp at which the data was collected. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">current</td><td>The current that was read from the current sensor. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">SOC</td><td>The state of charge of the pack. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">delim</td><td>The delimiter character to use between each value.</td></tr>
  </table>
  </dd>
</dl>
<p>This function prints detailed information about the pack to the serial console in CSV format. It includes the timestamp, current, SOC, module number, cell voltage, and temperatures for each module. </p>

</div>
</div>
<a id="a58ee4f8542ea572a6bc101688df26ba7" name="a58ee4f8542ea572a6bc101688df26ba7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58ee4f8542ea572a6bc101688df26ba7">&#9670;&#160;</a></span>printPackDetails()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BMSModuleManager::printPackDetails </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>digits</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prints detailed information about the pack to the serial console. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">digits</td><td>The number of decimal places to display the voltage values</td></tr>
  </table>
  </dd>
</dl>
<p>This function prints detailed information about the pack to the serial console. It includes the number of modules, cells and strings, the pack voltage, average cell voltage, low and high cell voltage, average temperature, and detailed information about each module, including its voltage, cell voltages, and temperatures. </p>

</div>
</div>
<a id="abe17826b95e88b428f751a508c28a46b" name="abe17826b95e88b428f751a508c28a46b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe17826b95e88b428f751a508c28a46b">&#9670;&#160;</a></span>printPackSummary()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BMSModuleManager::printPackSummary </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prints a summary of the battery pack's state. </p>
<p>Prints the number of modules found, the pack voltage, average cell voltage, and average temperature. Then it loops over all modules and prints their voltage, temperature range, and any faults or alerts they have. If a module has a fault or alert, it prints a description of the fault or alert. </p>

</div>
</div>
<a id="a87213140ff1a6e147670054d563e01bb" name="a87213140ff1a6e147670054d563e01bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87213140ff1a6e147670054d563e01bb">&#9670;&#160;</a></span>seriescells()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BMSModuleManager::seriescells </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the total number of cells in series in the pack. </p>
<p>Loops through all modules and sums up the number of cells in each module to get the total number of cells in the pack. This is used to calculate the pack voltage.</p>
<dl class="section return"><dt>Returns</dt><dd>The total number of cells in series. </dd></dl>

</div>
</div>
<a id="a1289e9c0e358e9967be57c17ba63b263" name="a1289e9c0e358e9967be57c17ba63b263"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1289e9c0e358e9967be57c17ba63b263">&#9670;&#160;</a></span>setBatteryID()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BMSModuleManager::setBatteryID </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the battery ID of the pack. </p>
<p>This value is used to store specific configuration and settings for the pack </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>The ID of the battery pack </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4c0cc66d5245f27d7c8f6adebd8662cb" name="a4c0cc66d5245f27d7c8f6adebd8662cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c0cc66d5245f27d7c8f6adebd8662cb">&#9670;&#160;</a></span>setPstrings()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BMSModuleManager::setPstrings </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Pstrings</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the number of strings in parallel in the battery pack This value is used to calculate the pack voltage from the module voltages. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Pstrings</td><td>The number of strings in parallel </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a845579a1dae6762aec33df84536d5989" name="a845579a1dae6762aec33df84536d5989"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a845579a1dae6762aec33df84536d5989">&#9670;&#160;</a></span>sleepBoards()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BMSModuleManager::sleepBoards </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Puts all boards on the bus into a Sleep state. </p>
<p>This is good to use when the vehicle is in a rest state. Pulling the boards out of sleep only to check voltage decay and temperature when the contactors are open. </p>

</div>
</div>
<a id="a26cca2180eda2fdbf06d91e270027327" name="a26cca2180eda2fdbf06d91e270027327"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26cca2180eda2fdbf06d91e270027327">&#9670;&#160;</a></span>StopBalancing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BMSModuleManager::StopBalancing </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stops balancing activity on all connected BMS modules. </p>
<p>This method iterates over all existing BMS modules and calls their <code>stopBalance</code> method to disable balancing activity. This is useful when the vehicle is not in operation and balancing is not necessary. </p>

</div>
</div>
<a id="ac1575352813ec02fb2363b71e86f0bd5" name="ac1575352813ec02fb2363b71e86f0bd5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1575352813ec02fb2363b71e86f0bd5">&#9670;&#160;</a></span>wakeBoards()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BMSModuleManager::wakeBoards </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Wakes all the boards up and clears thier SLEEP state bit in the Alert Status Registery</p>
<p>The boards are put in a sleep state when the vehicle is in a rest state, and are only woken up to check voltage decay and temperature when the contactors are open. This function is useful to wake all the boards up when the vehicle is going to be used.</p>
<p>Note: This function also clears the SLEEP state bit in the Alert Status Registery, which is automatically set when the boards are put in a sleep state. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="BMSModuleManager_8h_source.html">BMSModuleManager.h</a></li>
<li>src/<b>BMSModuleManager.cpp</b></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classBMSModuleManager.html">BMSModuleManager</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
